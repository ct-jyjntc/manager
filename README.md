# è¿›ç¨‹ä¿æ´»ç®¡ç†å™¨

ä¸€ä¸ªç°ä»£åŒ–çš„è¿›ç¨‹ç›‘æ§å’Œç®¡ç†ç³»ç»Ÿï¼Œä½¿ç”¨ Next.js + React æ„å»ºï¼Œå…·æœ‰ç¾è§‚çš„ç”¨æˆ·ç•Œé¢å’Œå®Œæ•´çš„è¿›ç¨‹ç®¡ç†åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **è¿›ç¨‹åˆ›å»º**: é€šè¿‡ç½‘é¡µç•Œé¢æ·»åŠ æ–°çš„è¿›ç¨‹ç®¡ç†ä»»åŠ¡
- **è¿›ç¨‹æ§åˆ¶**: å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤è¿›ç¨‹
- **å®æ—¶ç›‘æ§**: æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€ã€è¿è¡Œæ—¶é—´ã€PIDç­‰ä¿¡æ¯
- **æ—¥å¿—ç®¡ç†**: æŸ¥çœ‹è¿›ç¨‹è¿è¡Œæ—¥å¿—ï¼Œæ”¯æŒä¸‹è½½å’Œæ¸…é™¤
- **è‡ªåŠ¨é‡å¯**: æ”¯æŒè¿›ç¨‹å¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
- **é…ç½®ç®¡ç†**: å¯¼å…¥å’Œå¯¼å‡ºè¿›ç¨‹é…ç½®ï¼Œæ”¯æŒå¤‡ä»½å’Œè¿ç§»

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **æš—è‰²ä¸»é¢˜**: æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **Radix UI**: ä½¿ç”¨ Radix UI ç»„ä»¶åº“ï¼Œæä¾›æ— éšœç¢è®¿é—®
- **Tailwind CSS**: ç°ä»£åŒ–çš„æ ·å¼æ¡†æ¶
- **Lucide å›¾æ ‡**: ç¾è§‚çš„å›¾æ ‡ç³»ç»Ÿ

## æŠ€æœ¯æ ˆ

- **Frontend**: Next.js 14, React 18, TypeScript
- **UI ç»„ä»¶**: Radix UI
- **æ ·å¼**: Tailwind CSS
- **å›¾æ ‡**: Lucide React
- **çŠ¶æ€ç®¡ç†**: React Hooks

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 3. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

## ä½¿ç”¨æŒ‡å—

### æ·»åŠ æ–°è¿›ç¨‹
1. åœ¨"æ·»åŠ æ–°è¿›ç¨‹"å¡ç‰‡ä¸­å¡«å…¥è¿›ç¨‹åç§°
2. è¾“å…¥è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼š`python3 /root/app.py`ï¼‰
3. ç‚¹å‡»"åˆ›å»ºè¿›ç¨‹"æŒ‰é’®

### ç®¡ç†è¿›ç¨‹
æ¯ä¸ªè¿›ç¨‹å¡ç‰‡æä¾›ä»¥ä¸‹æ“ä½œï¼š
- **å¯åŠ¨**: å¯åŠ¨åœæ­¢çš„è¿›ç¨‹
- **åœæ­¢**: åœæ­¢æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹
- **é‡å¯**: é‡å¯è¿›ç¨‹ï¼ˆåœæ­¢åé‡æ–°å¯åŠ¨ï¼‰
- **æ—¥å¿—**: æŸ¥çœ‹è¿›ç¨‹è¿è¡Œæ—¥å¿—
- **åˆ é™¤**: åˆ é™¤è¿›ç¨‹ï¼ˆä¼šå…ˆåœæ­¢è¿›ç¨‹ï¼‰

### æŸ¥çœ‹æ—¥å¿—
- ç‚¹å‡»è¿›ç¨‹å¡ç‰‡ä¸­çš„"æ—¥å¿—"æŒ‰é’®
- åœ¨å¼¹å‡ºçš„æ—¥å¿—çª—å£ä¸­æŸ¥çœ‹è¯¦ç»†çš„è¿è¡Œæ—¥å¿—
- æ”¯æŒä¸‹è½½æ—¥å¿—æ–‡ä»¶
- æ”¯æŒæ¸…é™¤å†å²æ—¥å¿—

### é…ç½®ç®¡ç†
- ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„"é…ç½®ç®¡ç†"æŒ‰é’®
- **å¯¼å‡ºé…ç½®**: å°†å½“å‰æ‰€æœ‰è¿›ç¨‹é…ç½®å¯¼å‡ºä¸º JSON æ–‡ä»¶ï¼Œå¯ç”¨äºå¤‡ä»½
- **å¯¼å…¥é…ç½®**: ä» JSON æ–‡ä»¶æ‰¹é‡å¯¼å…¥è¿›ç¨‹é…ç½®ï¼ŒåŒåè¿›ç¨‹ä¼šè¢«è·³è¿‡
- é…ç½®æ–‡ä»¶åŒ…å«è¿›ç¨‹åç§°ã€å‘½ä»¤ã€å·¥ä½œç›®å½•å’Œè‡ªåŠ¨é‡å¯è®¾ç½®
- ä¸åŒ…å«è¿è¡ŒçŠ¶æ€ã€æ—¥å¿—ç­‰è¿è¡Œæ—¶æ•°æ®

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ processes/          # API è·¯ç”±
â”‚   â”œâ”€â”€ globals.css             # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx              # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx                # ä¸»é¡µé¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # UI ç»„ä»¶
â”‚   â””â”€â”€ process-logs.tsx        # æ—¥å¿—æŸ¥çœ‹ç»„ä»¶
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ utils.ts                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ process-manager.ts      # è¿›ç¨‹ç®¡ç†å™¨
â”‚   â””â”€â”€ real-process-manager.ts # å®é™…è¿›ç¨‹ç®¡ç†é€»è¾‘
â”œâ”€â”€ types/
â”‚   â””â”€â”€ process.ts              # ç±»å‹å®šä¹‰
â””â”€â”€ README.md
```

## API æ¥å£

### è·å–è¿›ç¨‹åˆ—è¡¨
```
GET /api/processes
```

### åˆ›å»ºæ–°è¿›ç¨‹
```
POST /api/processes
Content-Type: application/json

{
  "name": "è¿›ç¨‹åç§°",
  "command": "æ‰§è¡Œå‘½ä»¤",
  "autoRestart": true,
  "cwd": "/optional/path/to/working/directory"
}
```

### è·å–å•ä¸ªè¿›ç¨‹ä¿¡æ¯
```
GET /api/processes/{id}
```

### æ§åˆ¶è¿›ç¨‹
```
POST /api/processes/{id}
Content-Type: application/json

{
  "action": "start|stop|restart"
}
```

### åˆ é™¤è¿›ç¨‹
```
DELETE /api/processes/{id}
```

### å¯¼å‡ºé…ç½®
```
GET /api/processes/export
```

### å¯¼å…¥é…ç½®
```
POST /api/processes/import
Content-Type: application/json

{
  "version": "1.0",
  "exportTime": "2025-05-31T10:30:00.000Z",
  "processes": [
    {
      "name": "è¿›ç¨‹åç§°",
      "command": "æ‰§è¡Œå‘½ä»¤",
      "autoRestart": true,
      "cwd": "/optional/path/to/working/directory"
    }
  ]
}
```

## Debian ç³»ç»Ÿéƒ¨ç½²

### è‡ªåŠ¨éƒ¨ç½² (æ¨è)

1. **ä¸‹è½½é¡¹ç›®åˆ° Debian æœåŠ¡å™¨**:
   ç¡®ä¿é¡¹ç›®ä½äº `/root/manager` ç›®å½•ã€‚
   ä¾‹å¦‚ï¼Œå°†é¡¹ç›®å…‹éš†åˆ°è¯¥ä½ç½®ï¼š
```bash
sudo mkdir -p /root/manager
sudo git clone <your-repo-url> /root/manager
cd /root/manager
# å¦‚æœæ‚¨å·²åœ¨å…¶ä»–ä½ç½®å…‹éš†äº†é¡¹ç›®ï¼Œè¯·å°†å…¶ç§»åŠ¨æˆ–å¤åˆ¶åˆ° /root/manager
# ä¾‹å¦‚: sudo mv /path/to/your/cloned/project-directory /root/manager
# ç„¶å: cd /root/manager
```

2. **è¿è¡Œè‡ªåŠ¨éƒ¨ç½²è„šæœ¬**:
```bash
chmod +x deploy-debian.sh
sudo ./deploy-debian.sh
```

3. **è®¿é—®åº”ç”¨**:
```
http://your-server-ip:3000
```

### æ‰‹åŠ¨éƒ¨ç½²

1. **å®‰è£… Node.js 18**:
```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo bash -
sudo apt-get install -y nodejs
```

2. **å®‰è£…ä¾èµ–å¹¶æ„å»º**:
```bash
npm install
npm run build
```

3. **å¯åŠ¨ç”Ÿäº§æœåŠ¡**:
```bash
npm start
# æˆ–ä½¿ç”¨ PM2
npm install -g pm2
pm2 start ecosystem.config.js
```

### ç³»ç»ŸæœåŠ¡é…ç½®

é¡¹ç›®å°†è‡ªåŠ¨é…ç½®ä¸º systemd æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç®¡ç†ï¼š

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start manager

# åœæ­¢æœåŠ¡
sudo systemctl stop manager

# é‡å¯æœåŠ¡
sudo systemctl restart manager

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status manager

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u manager -f
```

## å¸è½½è¯´æ˜

### å®Œå…¨å¸è½½
å¦‚æœéœ€è¦å®Œå…¨ç§»é™¤è¿›ç¨‹ä¿æ´»ç®¡ç†å™¨åŠå…¶æ‰€æœ‰ç»„ä»¶ï¼š

```bash
chmod +x uninstall-debian.sh
sudo ./uninstall-debian.sh
```

**å®Œå…¨å¸è½½å°†åˆ é™¤ï¼š**
- systemd æœåŠ¡
- PM2 è¿›ç¨‹
- åº”ç”¨ç¨‹åºæ–‡ä»¶
- é…ç½®å’Œæ•°æ®æ–‡ä»¶
- æ—¥å¿—æ–‡ä»¶
- é˜²ç«å¢™è§„åˆ™
- å¯é€‰ï¼šNode.jsã€PM2ã€SSHå¯†é’¥

### å¿«é€Ÿå¸è½½
å¦‚æœåªæƒ³ç§»é™¤åº”ç”¨ç¨‹åºï¼ˆä¿ç•™Node.jsç­‰ç³»ç»Ÿç»„ä»¶ï¼‰ï¼š

```bash
chmod +x quick-uninstall.sh
sudo ./quick-uninstall.sh
```

**å¿«é€Ÿå¸è½½å°†åˆ é™¤ï¼š**
- åº”ç”¨ç¨‹åºæ–‡ä»¶
- é…ç½®æ•°æ®
- æœåŠ¡é…ç½®
- æ—¥å¿—æ–‡ä»¶

**ä¿ç•™ï¼š**
- Node.js å’Œ npm
- PM2
- SSH é…ç½®

## æ³¨æ„äº‹é¡¹

âœ… **çœŸå®è¿›ç¨‹ç®¡ç†**: å½“å‰ç‰ˆæœ¬ä½¿ç”¨çœŸå®çš„ Node.js `child_process` æ¨¡å—ï¼Œå¯ä»¥åœ¨ Debian ç³»ç»Ÿä¸Šå®é™…å¯åŠ¨å’Œç®¡ç†è¿›ç¨‹ã€‚

âš ï¸ **å®‰å…¨æ³¨æ„äº‹é¡¹**:

1. å»ºè®®é…ç½®é˜²ç«å¢™è§„åˆ™
2. æ·»åŠ ç”¨æˆ·è®¤è¯å’Œæˆæƒ
3. é…ç½® HTTPS/SSL è¯ä¹¦
4. é™åˆ¶å¯æ‰§è¡Œçš„å‘½ä»¤ç±»å‹
5. å®šæœŸå¤‡ä»½è¿›ç¨‹é…ç½®æ•°æ®

## å¼€å‘è¯´æ˜

### è‡ªå®šä¹‰é…ç½®
- ä¿®æ”¹ `tailwind.config.ts` æ¥è‡ªå®šä¹‰æ ·å¼ä¸»é¢˜
- ç¼–è¾‘ `lib/process-manager.ts` æ¥æ‰©å±•è¿›ç¨‹ç®¡ç†åŠŸèƒ½
- åœ¨ `types/process.ts` ä¸­æ·»åŠ æ–°çš„ç±»å‹å®šä¹‰

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
npm start
```

## è®¸å¯è¯

MIT License
